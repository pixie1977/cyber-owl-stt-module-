"""
Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð° ÑÐ¿Ð¸ÑÐºÐ° Ð²ÑÐµÑ… Ð°ÑƒÐ´Ð¸Ð¾ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð² Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ.
ÐŸÐ¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ðµ Ð¸Ð¼Ñ Ð¼Ð¸ÐºÑ€Ð¾Ñ„Ð¾Ð½Ð° Ð´Ð»Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ STT.
"""

import sounddevice as sd

def list_audio_devices():
    """
    Ð’Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ ÑÐ¿Ð¸ÑÐ¾Ðº Ð²ÑÐµÑ… Ð°ÑƒÐ´Ð¸Ð¾ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð² Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÐµÐ¹ Ð¾ Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ñ… ÐºÐ°Ð½Ð°Ð»Ð°Ñ….
    """
    print("ðŸ” Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ Ð°ÑƒÐ´Ð¸Ð¾ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð°:\n")
    devices = sd.query_devices()
    for i, device in enumerate(devices):
        # ÐŸÐ¾Ð¼ÐµÑ‡Ð°ÐµÐ¼ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð° Ñ Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ð¼Ð¸ ÐºÐ°Ð½Ð°Ð»Ð°Ð¼Ð¸ (Ð¼Ð¸ÐºÑ€Ð¾Ñ„Ð¾Ð½Ñ‹)
        is_input = device['max_input_channels'] > 0
        marker = "ðŸŽ¤" if is_input else "ðŸ”Š"
        print(f"{marker} [{i}] {device['name']}")
        print(f"    â”œâ”€â”€ Ð¢Ð¸Ð¿: {'ÐœÐ¸ÐºÑ€Ð¾Ñ„Ð¾Ð½ (Ð²Ñ…Ð¾Ð´)' if is_input else 'ÐšÐ¾Ð»Ð¾Ð½ÐºÐ¸ (Ð²Ñ‹Ñ…Ð¾Ð´)'}")
        print(f"    â”œâ”€â”€ Ð’Ñ…Ð¾Ð´Ð½Ñ‹Ðµ ÐºÐ°Ð½Ð°Ð»Ñ‹: {device['max_input_channels']}")
        print(f"    â”œâ”€â”€ Ð’Ñ‹Ñ…Ð¾Ð´Ð½Ñ‹Ðµ ÐºÐ°Ð½Ð°Ð»Ñ‹: {device['max_output_channels']}")
        print(f"    â””â”€â”€ Default: {device['default_samplerate']:.0f} Hz\n")

if __name__ == "__main__":
    list_audio_devices()